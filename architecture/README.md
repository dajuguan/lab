总结这个repo的架构设计，分为如下几个部分。

# 架构设计基本步骤
## 需求分析
- 对问题刨根究底，找到根源需求
- 对需求进行归纳整理
    - 将需求归类到不同的类别中
    - 形成需求的变化点和稳定点的基本判断

## 概要设计
概要设计的核心目标是将**系统正交分解为子系统并串联起整个系统**，消除系统的重大风险，最好有代码产出，以验证原型和接口设计是否合理。
- 确定子系统需要保证什么规则，具备什么能力
    - 能力不是“它能做什么”，，而是“它必须保证什么”，保证什么 = 不变量 = 责任。
- 确定哪些是稳定的，哪些是变化以及变化波及的范围
- 根据上述分析，确定子系统的边界，并定义相应的核心规格(包括公开暴露的结构体、接口等)

## 详细设计
- 完备地描述模块的所有接口
    - 不能只画架构图(相当于建筑设计图没标尺寸)，因为架构图不是接口的精确描述，
- 模块的实现原理

# 为什么要做架构？
因为系统会变化，而变化会产生复杂度。 架构的目的是控制复杂度增长速度。如果不做架构， 规则会散落在各地，修改一个地方就波及全局。架构就是为了阻止这种“变化扩散”。
架构的本质不是组织代码，而是**隔离变化**。架构的终极目标：让变化局部化，让复杂性被封装，给系统建立稳定的“认知边界”。
顶级架构师不先看函数和调用图，而是先看不变量、变化来源、责任边界